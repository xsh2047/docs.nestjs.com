
<div class="content" #contentReference>
  <div class="github-links">
    <a
      href="https://github.com/nestjs/docs.nestjs.com/edit/master/content/microservices/guards.md"
      aria-label="Suggest Edits"
      title="Suggest Edits"
    >
      <i class="fas fa-edit"></i>
    </a>
  </div>
  <h3 id="guards">Guards</h3>
<p>There is no fundamental difference between microservices guards and <a routerLink="/guards">regular HTTP application guards</a>.
The only difference is that instead of throwing <code>HttpException</code>, you should use <code>RpcException</code>.</p>
<blockquote class="
info "><strong>Hint</strong> The <code>RpcException</code> class is exposed from <code>@nestjs/microservices</code> package.
</blockquote>
<h4 appAnchor id="binding-guards"><span>Binding guards</span></h4>
<p>The following example uses a method-scoped guard. Just as with HTTP based applications, you can also use controller-scoped guards (i.e., prefix the controller class with a <code>@UseGuards()</code> decorator).</p>

<span class="filename">
<app-tabs #app3ca0806e8dbe2dce598d3ba99f4e6016fa25ecb7></app-tabs>
</span><pre [class.hide]="app3ca0806e8dbe2dce598d3ba99f4e6016fa25ecb7.isJsActive"><code class="language-typescript">
@UseGuards(AuthGuard)
@MessagePattern(&#123; cmd: &#39;sum&#39; &#125;)
accumulate(data: number[]): number &#123;
  return (data || []).reduce((a, b) =&gt; a + b);
&#125;
</code></pre>
<pre [class.hide]="!app3ca0806e8dbe2dce598d3ba99f4e6016fa25ecb7.isJsActive"><code class="language-typescript">
@UseGuards(AuthGuard)
@MessagePattern(&#123; cmd: &#39;sum&#39; &#125;)
accumulate(data) &#123;
  return (data || []).reduce((a, b) =&gt; a + b);
&#125;
</code></pre>
</div>

